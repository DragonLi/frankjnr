interface State X = get : X
	          | put : X -> Unit

evalState : X -> <State X>Y    -> Y
evalState   x    <put x' -> k>  = evalState x' (k unit)
evalState   x    <get    -> k>  = evalState x (k x)
evalState   x         y         = y

main : String
main! = evalState "Hello" (put (strcat get! " World!\n"); get!)
